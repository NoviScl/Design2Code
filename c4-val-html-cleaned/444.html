<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html><head>
<style>
@font-face {
    font-family: 'MavenProBlack';
    src: url('maven_pro_black-webfont.eot');
    src: url('maven_pro_black-webfont.eot?#iefix') format('eot'),
         url('maven_pro_black-webfont.woff') format('woff'),
         url('maven_pro_black-webfont.ttf') format('truetype'),
         url('maven_pro_black-webfont.svg#webfontXhB2DgBK') format('svg');
    font-weight: normal;
    font-style: normal;

}

@font-face {
    font-family: 'MavenProBold';
    src: url('maven_pro_bold-webfont.eot');
    src: url('maven_pro_bold-webfont.eot?#iefix') format('eot'),
         url('maven_pro_bold-webfont.woff') format('woff'),
         url('maven_pro_bold-webfont.ttf') format('truetype'),
         url('maven_pro_bold-webfont.svg#webfontNOU7iUTL') format('svg');
    font-weight: normal;
    font-style: normal;

}

@font-face {
    font-family: 'MavenProMedium';
    src: url('maven_pro_medium-webfont.eot');
    src: url('maven_pro_medium-webfont.eot?#iefix') format('eot'),
         url('maven_pro_medium-webfont.woff') format('woff'),
         url('maven_pro_medium-webfont.ttf') format('truetype'),
         url('maven_pro_medium-webfont.svg#webfontNj5iy4Dl') format('svg');
    font-weight: normal;
    font-style: normal;

}

@font-face {
    font-family: 'MavenProRegular';
    src: url('maven_pro_regular-webfont.eot');
    src: url('maven_pro_regular-webfont.eot?#iefix') format('eot'),
         url('maven_pro_regular-webfont.woff') format('woff'),
         url('maven_pro_regular-webfont.ttf') format('truetype'),
         url('maven_pro_regular-webfont.svg#webfontOM8fITNz') format('svg');
    font-weight: normal;
    font-style: normal;

}

*
{
    margin: 0;
    padding: 0;
}

p
{
   margin-bottom: 1em;
}

body
{
    z-index: -1000;
    font-family: "MavenProRegular", "Lucida Grande", Verdana, Arial, sans-serif;
    font-size: 14px;
    color: white;
    background-color: black;
}

a
{
    color: #c4441f;
    text-decoration: none;
}

a:hover
{
    color: #f80;
}

a.aGray
{
    color: #666666;
    text-decoration: none;
}

a.aGray:hover
{
    color: #f80;
}

.gray {
	color: #666666;
}

li
{
    list-style-type: none;
}

hr
{
	color: #333333;
	background-color: #333333;
	border: 0;
	height: 1px;
}

hr.thick
{
	color: #333333;
	background-color: #333333;
	border: 0;
	height: 5px;
}

img
{
	border: 0px;
}

.wrapper
{
    text-align: center;
    min-width: 1100px;
}

.section
{
    width: 800px;
    margin-left: auto;
    margin-right: auto;
    border-left: 1px solid #353535;
    border-right: 1px solid #353535;
    text-align: left;
}

#header
{
    background: black url('/static/images/graypixel.gif') 0 30px repeat-x;
    border-bottom: 1px solid #353535;
}

#navigation
{
    position: relative;
    padding-bottom: 15px;
}

#navigation a
{
    color: #bbb;
    text-decoration: none;
}

#navigation a
{
    font-size: 10px;
}

#navigation .submenu a
{
    font-size: 10px;
}

#navigation a:hover
{
    color: #f40;
}

#logo
{
    width: 119px;
    height: 119px;
    position: absolute;
    left: -150px;
    top: 50px;
}

#menu-wrapper
{
    padding-top: 142px;
}

#menu-wrapper a.current
{
    color: #f40;
}

#menu 
{
    margin-left: 20px;
}

#menu li
{
    list-style-type: none;
    float: left;
    padding: 5px 10px 10px;
}

#menu .submenu
{
}

#menu .submenu li
{
    clear: both;
    padding: 10px 0 0;
}

#search
{
    left: 601px;
    top: 52px;
    position: absolute;
    background: transparent url('/static/images/search-bg.gif');
    width: 169px;
    height: 24px;
    overflow: hidden;
}

#search2
{
    left: 601px;
    top: 82px;
    position: absolute;
    background: transparent url('/static/images/search-bg.gif');
    width: 169px;
    height: 24px;
    overflow: hidden;
}

#search input, #search2 input
{
    color: #888;
    width: 135px;
    border-width: 0;
    background-color: transparent;
    margin: 5px 0 0 5px;
    font-size: 11px;
}

#content
{
    background: transparent url('/static/images/bgpattern.gif') center center;
    border-bottom: 1px solid #353535;
}

#maincontent
{
    height: 484px;
    background: transparent url('/static/images/swirl-bg_clean.png') center center repeat-x;
    border-bottom: 1px solid #353535;
}

#carousel-section
{
    height: 100%;
    padding-top: 10px;
}

#promos
{
    border-bottom: 1px solid #353535;
}

#footer
{
    background: black url('/static/images/graypixel.gif') 0 155px repeat-x;
}

#footer-section
{
    height: 180px;
}

#am-logo
{
    float: left;
    margin: 15px 0 0 50px;
}

#footer-legal
{
    float: right;
    width: 500px;
    margin: 58px 20px;
}

#footer-legal p
{
    font-size: 9px;
    color: #555;
    margin-bottom: 10px;
}

#footer-legal a
{
    color: #777;
}

#footer-legal a:hover
{
    color: #aaa;
}

.clear
{
    clear: both;
}

#carousel-menu
{
    margin: 16px 30px 10px;
    float: right;
    display: none;
}

#carousel-menu a.thumb
{
    display: block;
    float: left;
    border: 1px solid #888;
    width: 15px;
    height: 10px;
    margin: 2px;
}

#carousel-menu a.thumb:hover
{
    background-color: #888;
    border-color: #ccc;
}

#carousel-menu a.active
{
    background-image: url('/static/images/carousel-active.gif');
    width: 17px;
    height: 12px;
    border-width: 0;
}

.carousel-step
{
    display: block;
    float: left;
    width: 8px;
    height: 12px;
    overflow: hidden;
    text-indent: 100px;
    margin: 3px 0px 0px 10px;
}

#carousel-next
{
    background-image: url('/static/images/carousel-next.gif');
}

#carousel-prev
{
    background-image: url('/static/images/carousel-prev.gif');
}

#carousel
{
    margin: 0 30px;
    height: 400px;
    border-bottom: 5px solid #c60;
}

#carousel-description
{
    width: 260px;
    position: relative;
    top: 230px;
    left: 20px;
    padding: 20px;
    background: transparent url('/static/images/carousel-desc-bg.png') repeat-y;
}

small
{
    font-size: 10px;
    color: #aaa;
}

#carousel-description h2
{
    margin-bottom: 20px;
    font-size: 24px;
}

#carousel-description a
{
    font-size: 12px;
    text-decoration: none;
}

#carousel-description a:hover
{
}

.tri-column
{
    float: left;
    width: 33%;
    height: 350px;
}

#promo1
{
    border-right: 1px solid #353535;
}

#promo2 a
{
    text-decoration: none;
    font-size: 12px;
}

#promo2 ul
{
    margin-top: 30px;
}

#promo2 li
{
    margin-top: 5px;
    list-style-type: none;
}

#promo3
{
    float: right;
    background-color: #181818;
}

.column-content
{
    margin: 30px;
}

.column-content h2
{
    font-size: 20px;
    margin-bottom: 20px;
}

#download-link
{
    margin-top: 40px;
    display: block;
    overflow: hidden;
    text-indent: -1000px;
    width: 200px;
    height: 167px;
    background: url('/static/images/download.png') center;
}

#newspane
{
    height: 170px;
}

#newspane small
{
    color: white;
    font-size: 9px;
}

#newspane h3
{
    color: #a40;
    font-size: 13px;
    font-weight: normal;
}

#newspane p
{
    line-height: 20px;
}

#newspane .newspost
{
    border-bottom: 1px solid #333;
    padding-bottom: 20px;
    margin-bottom: 20px;
}

.scrollpane
{
    overflow: scroll;
    position: relative;
}

.scrollpane .scrollctr
{
    position: absolute;
}

.scrollpane .scrolltrack
{
    position: absolute;
    top: 0;
    width: 5px;
    background-color: #313131;
    z-index: 10;
}

.scrollpane .scrollthumb
{
    width: 5px;
    height: 32px;
    position: absolute;
    background-image: url('/static/images/scroll-thumb.gif');
}

#blogcontent
{
    background: transparent url('/static/images/column-divider-bg.gif') repeat-y;
}

.maincolumn
{
    float: left;
    width: 600px;
}

.rightcolumn
{
    float: right;
    width: 198px;
}

.rightcolumn h3
{
    padding: 11px 18px;
    font-size: 14px;
    font-weight: normal;
    border-bottom: 1px solid #353535;
	text-transform: uppercase;
}

.rightcolumn h3 a
{
	text-transform: none;
}

div.expandable li, div.justpadded li
{
    list-style-type: none;
    padding: 11px 18px;
    font-size: 13px;
    color: #808080;
}
div.justpadded
{
    list-style-type: none;
    padding: 11px 18px;
    font-size: 13px;
    color: #808080;
}

div.expandable ul
{
    border-bottom: 1px solid #353535;
}

div.expandable li.odd
{
    background-image: url('/static/images/bg-pattern-dark.gif');
}

.blogpost
{
    border-bottom: 1px solid #353535;
    padding: 30px;
    position: relative;
}

.paddedpost
{
   padding: 30px;
   position: relative;
}

.lastblogpost
{
    border-width: 0;
}

.blogpost .postextras
{
    position: absolute;
    left: -140px;
    width: 100px;
    font-size: 14px;
    color: #aaa;
    text-align: right;
}

.blogpost .postextras dt.numcomments
{
    clear: both;
    float: left;
    width: 20px;
    overflow: hidden;
    text-indent: 1000px;
    background: transparent url('images/comments-icon.gif') no-repeat;
    padding: 0;
}

.blogpost .postextras dl
{
    float: right;
}
.blogpost .postextras dd
{
    float: left;
}

.blogpost small
{
    font-size: 14px;
}

.blogpost h1
{
    font-size: 32px;
    width: 80%;
}

.blogpost cite
{
    font-style: normal;
    color: #808080;
    font-size: 16px;
}

.blogpost img.blogimage
{
    margin: 20px 0;
    border-bottom: 5px solid #c4441f;
}

.blogpost p
{
    font-size: 12px;
    line-height: 22px;
    color: #ddd;
    margin-bottom: 20px;
    text-align: justify;
}

.blogpost p.synopsis
{
    font-size: 14px;
}

.blogpost a.readmorelink
{
    font-size: 16px;
}

#pagination
{
    margin: 30px;
}

.pagination
{
    text-align: center;
}

.pagination li
{
    list-style-type: none;
    display: inline;
    padding: 3px;
}

.expandable .exp-toggle-link
{
    margin-top: 2px;
    font-size: 11px;
}

#comments
{
    border-bottom: 1px solid #353535;
}

.main-content-section
{
    padding: 0 30px;
}

.main-content-section h3
{
    margin: 11px 0;
    font-size: 20px;
}

.comment
{
    margin: 25px 0;
}

.comment small
{
    font-size: 12px;
}

.comment h4
{
    color: #aaa;
    font-size: 18px;
    font-weight: normal;
    margin: 5px 0 8px;
}

.comment h4 strong
{
    color: white;
}

.comment p
{
    font-size: 12px;
    line-height: 20px;
}

#writecomment
{
    margin-bottom: 20px;
}

.form-field
{
    background-color: #363636;
    -moz-border-radius: 2px;
    border-radius: 2px;
    padding: 8px 14px;
    margin: 5px 5px 5px 0;
}

input:-webkit-autofill {
    color: #2a2a2a !important; 
}
.form-field input, .form-field textarea
{
    width: 100%;
    background-color: #363636;
    border-width: 0;
    background-color: transparent;
    font-family: inherit;
    font-size: 14px;
    color: white;
}

#writecomment #name-field
{
    width: 200px;
    float: left;
}

#writecomment #email-field
{
    width: 274px;
    float: left;
}

#writecomment #comment-field
{
    clear: both;
}

#writecomment .instructions
{
    font-size: 14px;
    margin-bottom: 15px;
}

a.button
{
    display: inline-block;
    padding: 7px 20px;
    background: #e44f24 url('/static/images/button-bg-sprite.gif') repeat-x;
    background-position: 0 0;
    font-size: 14px;
    color: white;
    margin: 5px 0;
    -moz-border-radius: 2px;
    border-radius: 2px;
	line-height: 1em;
}

a.button:hover
{
    background-position: 0 -32;
}

.downloadextras {
	position: absolute;
	background: url('/static/images/downloads.png') no-repeat;
	background-repeat: no-repeat;
	background-position: right top;
	width: 600px;
	height: 378px;
	float: right;
}

.doubleColumn {
	width: 340px;
	float: left;
	padding-left: 15px;
	padding-right: 15px;
}
.justright {
	float: right;
}

.forumcat {
	padding: 15px 30px 15px 30px;
	font-size: 14px;
	background-color: #000000;
	color: #000000;
}

.featuresItem {
	padding-bottom: 10px;
}

.forumrow {
	padding: 15px 30px 15px 30px;
	font-size: 14px;
}

.forumheader {
	padding: 15px 30px 15px 30px;
	font-size: 14px;
	background-color: #000000;
	color: #FFFFFF;
}

li.team {
	padding: 5px 30px 5px 30px;
	width: 300px;
}
li.team a {
	padding: 0px 10px 0px 0px;
}

.mainforumtable p
{
    margin-bottom: 10px;
}

.examples_checkbox
{
    
}

.examples_entry
{
    
}

.odd, #a9, #c9, #e9, #g9, #i9, #k9, #m9, #o9, #q9, #s9, #u9, #w9, #y9 {
	background: #161616 url('/static/images/bgpattern1.gif') repeat;
}
.even, #b9, #d9, #f9, #h9, #j9, #l9, #n9, #p9, #r9, #t9, #v9, #x9, #z9 {
	background: #161616 url('/static/images/bgpattern3.gif') repeat;
}
.downloadprefab {
	position: absolute;
	background: url('/static/images/prefabpict.png') no-repeat;
	background-repeat: no-repeat;
	background-position: right top;
	width: 600px;
	height: 378px;
	float: right;
}
.downloadawaybuilder {
    position: absolute;
    background: url('/static/images/awaybuilderpict.png') no-repeat;
    background-repeat: no-repeat;
    background-position: 330px 60px;
    width: 600px;
    height: 378px;
    float: right;   
}

pre {
	background-color: #221111;
	font-family: Courier, mono, sans-serif;
	width: 520px;
	overflow: auto;
	margin-top: 15px;
	margin-bottom: 15px;
	display:block;
	padding:10px;
	border: 1px solid gray;
}

.blogpost li {
	list-style-type: disc;
	margin: 10px;
}
.blogpost ul {
	padding-bottom: 15px;
}

article .todo {
	background-color: rgb( 0, 255, 255 );
	color: rgb( 0, 0, 255 );
	padding: 0;
	margin: 10px;
}

article figcaption {
	font-size: small;
}

article hgroup > * {
	margin: 0;
}

article section {
	padding: 0;
	margin-bottom: 0;
}

article section > section {
	padding-left: 25px;
}

article li {
	padding-top: 0;
	padding-bottom: 0;
	line-height: 1em !important;
}

article pre {
	padding: 0;
	margin: 0;	
}

article .preBox {
	border: thin dashed gray;
	background-color: white;
	font-size: 0.8em;
	margin: 10px 0 10px 0;
}

article .demoFrames {
	position: relative;
	display: block;
	padding: 0;
	margin: 0;
	width: 540px;
	height: 400px;
	background-color: red;
}

.interactiveFigure {
	border: medium solid #c4441f;
}
.interactiveFigure:hover {
	border: medium solid rgb( 256, 136, 0 );
}

article .newTerm {
	font-style: italic;
}

article aside {
	float: right;
	width: 300px;
	border: solid 1px #333;
	padding: 5px;
	margin: 0 0 10px 10px;
	font-size: 0.9em;
	background-image: url('/static/images/bgpattern2.gif');
}

article aside span.requirement {
	font-size: 1.1em;
	color: gray;
	margin-bottom: 3px;
}

article nav, article section {
	margin-bottom: 10px;
}

article nav li {
	margin-left: 20px;
	list-style-type: square;
}

article h4 {
	font-size: 1.5em;
	color: #999;
	padding-bottom: 10px;
}

article h5 {
	font-size: 1.2em;
	color: #999;
	padding-bottom: 10px;
}

article .thumbnails {
	display: table;
	padding-bottom: 10px;
}

article .thumbnails figure {
	display: table-cell;
	padding-right: 20px;
}

article code {
	color: #AAA;
}

article figcaption {
	font-style: italic;
	font-size:0.9em;
	padding-bottom:10px;
}

article table {
	border-collapse: collapse;
	background-image: url('/static/images/bgpattern.gif');
}

article table td {
	padding: 5px;
	vertical-align: text-top;
	border: solid 1px gray;
}

article ul.propertyList {
	list-style-image: url( list_bullet_circ.png );
	padding-left: 15px;
}

.tutorialMetadata {
	display: none;
}

#sb-body, #sb-loading {
	background:url( preloader.gif ) no-repeat center;
}

#wikicontent {
	width: 800px;
	text-align: left;
	margin-left: auto;
    margin-right: auto;
    border-left: 1px solid #353535;
    border-right: 1px solid #353535;
	position: relative;
}

#wikipage {
	padding: 10px 10px 10px 30px;
	min-height: 320px;
	background: #161616 url('http://away3d.com/static/images/bgpattern1.gif') repeat;
}

#wikipagetitle {
	border-bottom: 1px solid #333;
	background-color: black;
	padding: 20px 10px 10px 30px;
	border-top: 5px solid #333;
}

#wikipagetitle h2 {
	font-size: 28px;
}

#wikieditbuttons {
	font-size: 0.5em;
	float: right;
}

#wikipage h3 {
	padding-bottom: 5px;
}

figure {
	padding-top: 20px;
}

#wikinav {
	position:relative;
	width: 800px;
	margin-left: auto;
	margin-right: auto;
	text-align: right;
}

.wikinavsection {
	width: 150px;
	position: absolute;
	left: -180px;
	text-align: right;
	padding: 10px;
	text-transform: uppercase;
}

.enablechromelinks {
	z-index: 100000000;
}

.wikinavsection li {
	padding: 0px 0px 2px 0px;
}

.wikinavsection > * {
	margin-bottom: 10px;
}

.wikisearch {
    background: transparent url('http://away3d.com/static/images/search-bg.gif') no-repeat;
    width: 169px;
    height: 24px;
    
	float: right;
}

.specialInput {
    color: #888;
    border-width: 0;
    background-color: transparent;
    margin: 5px 15px 0 5px;
    font-size: 11px;
    width: 130px;
}

.breadcrumb {
	font-weight: bold;
	padding: 10px 10px 10px 30px;
}

.breadcrumbspacer {
	color: #454545;
}

ul ul { 
	padding-left: 10px;
}

.articleMetaHeader {
	margin-bottom: 20px;
	border-bottom: 1px solid #353535;
}

.articleMetaItem {
	margin-bottom: 20px;
}

.syntaxhighlighter a,
.syntaxhighlighter div,
.syntaxhighlighter code,
.syntaxhighlighter table,
.syntaxhighlighter table td,
.syntaxhighlighter table tr,
.syntaxhighlighter table tbody,
.syntaxhighlighter table thead,
.syntaxhighlighter table caption,
.syntaxhighlighter textarea {
  -moz-border-radius: 0 0 0 0 !important;
  -webkit-border-radius: 0 0 0 0 !important;
  background: none !important;
  border: 0 !important;
  bottom: auto !important;
  float: none !important;
  height: auto !important;
  left: auto !important;
  line-height: 1.3em !important;
  margin: 0 !important;
  outline: 0 !important;
  overflow: visible !important;
  padding: 0 !important;
  position: static !important;
  right: auto !important;
  text-align: left !important;
  top: auto !important;
  vertical-align: baseline !important;
  width: auto !important;
  box-sizing: content-box !important;
  font-family: "Consolas", "Bitstream Vera Sans Mono", "Courier New", Courier, monospace !important;
  font-weight: normal !important;
  font-style: normal !important;
  font-size: 1em !important;
  min-height: inherit !important;
  min-height: auto !important;
}

.syntaxhighlighter {
  width: 100% !important;
  padding: 0.2em 0 0.2em 0 !important;
  position: relative !important;
  overflow: auto !important;
  font-size: 0.9em !important;
  border: thin dashed gray;
  margin: 10px 0 10px 0;
}
.syntaxhighlighter.source {
  overflow: hidden !important;
}
.syntaxhighlighter .bold {
  font-weight: bold !important;
}
.syntaxhighlighter .italic {
  font-style: italic !important;
}
.syntaxhighlighter .line {
  white-space: pre !important;
}
.syntaxhighlighter table {
  width: 100% !important;
}
.syntaxhighlighter table caption {
  text-align: left !important;
  padding: .5em 0 0.5em 1em !important;
}
.syntaxhighlighter table td.code {
  width: 100% !important;
}
.syntaxhighlighter table td.code .container {
  position: relative !important;
}
.syntaxhighlighter table td.code .container textarea {
  box-sizing: border-box !important;
  position: absolute !important;
  left: 0 !important;
  top: 0 !important;
  width: 100% !important;
  height: 100% !important;
  border: none !important;
  background: white !important;
  padding-left: 1em !important;
  overflow: hidden !important;
  white-space: pre !important;
}
.syntaxhighlighter table td.gutter .line {
  text-align: right !important;
  padding: 0 0.5em 0 1em !important;
}
.syntaxhighlighter table td.code .line {
  padding: 0 1em !important;
}
.syntaxhighlighter.nogutter td.code .container textarea, .syntaxhighlighter.nogutter td.code .line {
  padding-left: 0em !important;
}
.syntaxhighlighter.show {
  display: block !important;
}
.syntaxhighlighter.collapsed table {
  display: none !important;
}
.syntaxhighlighter.collapsed .toolbar {
  padding: 0.1em 0.8em 0em 0.8em !important;
  font-size: 1em !important;
  position: static !important;
  width: auto !important;
  height: auto !important;
}
.syntaxhighlighter.collapsed .toolbar span {
  display: inline !important;
  margin-right: 1em !important;
}
.syntaxhighlighter.collapsed .toolbar span a {
  padding: 0 !important;
  display: none !important;
}
.syntaxhighlighter.collapsed .toolbar span a.expandSource {
  display: inline !important;
}
.syntaxhighlighter .toolbar {
  position: absolute !important;
  right: 1px !important;
  top: 1px !important;
  width: 11px !important;
  height: 11px !important;
  font-size: 10px !important;
  z-index: 10 !important;
}
.syntaxhighlighter .toolbar span.title {
  display: inline !important;
}
.syntaxhighlighter .toolbar a {
  display: block !important;
  text-align: center !important;
  text-decoration: none !important;
  padding-top: 1px !important;
}
.syntaxhighlighter .toolbar a.expandSource {
  display: none !important;
}
.syntaxhighlighter.ie {
  font-size: .9em !important;
  padding: 1px 0 1px 0 !important;
}
.syntaxhighlighter.ie .toolbar {
  line-height: 8px !important;
}
.syntaxhighlighter.ie .toolbar a {
  padding-top: 0px !important;
}
.syntaxhighlighter.printing .line.alt1 .content,
.syntaxhighlighter.printing .line.alt2 .content,
.syntaxhighlighter.printing .line.highlighted .number,
.syntaxhighlighter.printing .line.highlighted.alt1 .content,
.syntaxhighlighter.printing .line.highlighted.alt2 .content {
  background: none !important;
}
.syntaxhighlighter.printing .line .number {
  color: #bbbbbb !important;
}
.syntaxhighlighter.printing .line .content {
  color: black !important;
}
.syntaxhighlighter.printing .toolbar {
  display: none !important;
}
.syntaxhighlighter.printing a {
  text-decoration: none !important;
}
.syntaxhighlighter.printing .plain, .syntaxhighlighter.printing .plain a {
  color: black !important;
}
.syntaxhighlighter.printing .comments, .syntaxhighlighter.printing .comments a {
  color: #008200 !important;
}
.syntaxhighlighter.printing .string, .syntaxhighlighter.printing .string a {
  color: blue !important;
}
.syntaxhighlighter.printing .keyword {
  color: #006699 !important;
  font-weight: bold !important;
}
.syntaxhighlighter.printing .preprocessor {
  color: gray !important;
}
.syntaxhighlighter.printing .variable {
  color: #aa7700 !important;
}
.syntaxhighlighter.printing .value {
  color: #009900 !important;
}
.syntaxhighlighter.printing .functions {
  color: #ff1493 !important;
}
.syntaxhighlighter.printing .constants {
  color: #0066cc !important;
}
.syntaxhighlighter.printing .script {
  font-weight: bold !important;
}
.syntaxhighlighter.printing .color1, .syntaxhighlighter.printing .color1 a {
  color: gray !important;
}
.syntaxhighlighter.printing .color2, .syntaxhighlighter.printing .color2 a {
  color: #ff1493 !important;
}
.syntaxhighlighter.printing .color3, .syntaxhighlighter.printing .color3 a {
  color: red !important;
}
.syntaxhighlighter.printing .break, .syntaxhighlighter.printing .break a {
  color: black !important;
}

.syntaxhighlighter {
  background-color: white !important;
}
.syntaxhighlighter .line.alt1 {
  background-color: white !important;
}
.syntaxhighlighter .line.alt2 {
  background-color: white !important;
}
.syntaxhighlighter .line.highlighted.alt1, .syntaxhighlighter .line.highlighted.alt2 {
  background-color: #c3defe !important;
}
.syntaxhighlighter .line.highlighted.number {
  color: white !important;
}
.syntaxhighlighter table caption {
  color: black !important;
}
.syntaxhighlighter .gutter {
  color: #787878 !important;
}
.syntaxhighlighter .gutter .line {
  border-right: 3px solid #d4d0c8 !important;
}
.syntaxhighlighter .gutter .line.highlighted {
  background-color: #d4d0c8 !important;
  color: white !important;
}
.syntaxhighlighter.printing .line .content {
  border: none !important;
}
.syntaxhighlighter.collapsed {
  overflow: visible !important;
}
.syntaxhighlighter.collapsed .toolbar {
  color: #3f5fbf !important;
  background: white !important;
  border: 1px solid #d4d0c8 !important;
}
.syntaxhighlighter.collapsed .toolbar a {
  color: #3f5fbf !important;
}
.syntaxhighlighter.collapsed .toolbar a:hover {
  color: #aa7700 !important;
}
.syntaxhighlighter .toolbar {
  color: #a0a0a0 !important;
  background: #d4d0c8 !important;
  border: none !important;
}
.syntaxhighlighter .toolbar a {
  color: #a0a0a0 !important;
}
.syntaxhighlighter .toolbar a:hover {
  color: red !important;
}
.syntaxhighlighter .plain, .syntaxhighlighter .plain a {
  color: black !important;
}
.syntaxhighlighter .comments, .syntaxhighlighter .comments a {
  color: #3f5fbf !important;
}
.syntaxhighlighter .string, .syntaxhighlighter .string a {
  color: #2a00ff !important;
}
.syntaxhighlighter .keyword {
  color: #7f0055 !important;
}
.syntaxhighlighter .preprocessor {
  color: #646464 !important;
}
.syntaxhighlighter .variable {
  color: #aa7700 !important;
}
.syntaxhighlighter .value {
  color: #009900 !important;
}
.syntaxhighlighter .functions {
  color: #ff1493 !important;
}
.syntaxhighlighter .constants {
  color: #0066cc !important;
}
.syntaxhighlighter .script {
  font-weight: bold !important;
  color: #7f0055 !important;
  background-color: none !important;
}
.syntaxhighlighter .color1, .syntaxhighlighter .color1 a {
  color: gray !important;
}
.syntaxhighlighter .color2, .syntaxhighlighter .color2 a {
  color: #ff1493 !important;
}
.syntaxhighlighter .color3, .syntaxhighlighter .color3 a {
  color: red !important;
}

.syntaxhighlighter .keyword {
  font-weight: bold !important;
}
.syntaxhighlighter .xml .keyword {
  color: #3f7f7f !important;
  font-weight: normal !important;
}
.syntaxhighlighter .xml .color1, .syntaxhighlighter .xml .color1 a {
  color: #7f007f !important;
}
.syntaxhighlighter .xml .string {
  font-style: italic !important;
  color: #2a00ff !important;
}

#sb-title-inner,#sb-info-inner,#sb-loading-inner,div.sb-message{font-family:"HelveticaNeue-Light","Helvetica Neue",Helvetica,Arial,sans-serif;font-weight:200;color:#fff;}
#sb-container{position:fixed;margin:0;padding:0;top:0;left:0;z-index:999;text-align:left;visibility:hidden;display:none;}
#sb-overlay{position:relative;height:100%;width:100%;}
#sb-wrapper{position:absolute;visibility:hidden;width:100px;}
#sb-wrapper-inner{position:relative;border:1px solid #303030;overflow:hidden;height:100px;}
#sb-body{position:relative;height:100%;}
#sb-body-inner{position:absolute;height:100%;width:100%;}
#sb-player.html{height:100%;overflow:auto;}
#sb-body img{border:none;}
#sb-loading{position:relative;height:100%;}
#sb-loading-inner{position:absolute;font-size:14px;line-height:24px;height:24px;top:50%;margin-top:-12px;width:100%;text-align:center;}
#sb-loading-inner span{background:url(loading.gif) no-repeat;padding-left:34px;display:inline-block;}
#sb-body,#sb-loading{background-color:#060606;}
#sb-title,#sb-info{position:relative;margin:0;padding:0;overflow:hidden;}
#sb-title,#sb-title-inner{height:26px;line-height:26px;}
#sb-title-inner{font-size:16px;}
#sb-info,#sb-info-inner{height:20px;line-height:20px;}
#sb-info-inner{font-size:12px;}
#sb-nav{float:right;height:16px;padding:2px 0;width:45%;}
#sb-nav a{display:block;float:right;height:16px;width:16px;margin-left:3px;cursor:pointer;background-repeat:no-repeat;}
#sb-nav-close{background-image:url(close.png);}
#sb-nav-next{background-image:url(next.png);}
#sb-nav-previous{background-image:url(previous.png);}
#sb-nav-play{background-image:url(play.png);}
#sb-nav-pause{background-image:url(pause.png);}
#sb-counter{float:left;width:45%;}
#sb-counter a{padding:0 4px 0 0;text-decoration:none;cursor:pointer;color:#fff;}
#sb-counter a.sb-counter-current{text-decoration:underline;}
div.sb-message{font-size:12px;padding:10px;text-align:center;}
div.sb-message a:link,div.sb-message a:visited{color:#fff;text-decoration:underline;}

</style>
    <title>
	    		    Writing Custom Materials 2: Adding Textures | Away3D Tutorials Wiki
		</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="MSSmartTagsPreventParsing" content="TRUE">
    <meta http-equiv="expires" content="-1">
    <meta http-equiv="pragma" content="no-cache">
    <meta name="robots" content="all">

    
    
    

    
    

    
    

    
    
    
    
    
    
    
    

    
    
    
    

    
    
    
    
    
    
    <style type="text/css">
	.overlay {
		background-color:#999;
		display:none;
		z-index:10000;
		width:744px;
		background-image:url(http://away3d.com/static/images/none.png);
		
		text-align:left;
		border:1px solid #5f5f5f;
		color:#fff;
	
		opacity:0.9;
		-moz-border-radius:6px;
		-webkit-border-radius:6px;
	}
	.contents {
		background-image:url(http://away3d.com/static/images/bg.png);
		padding:55px;
		width: auto;
		min-height:200px;
		-moz-border-radius:6px;
		-webkit-border-radius:6px;
		font-size: 12px;
	}
	.contents h1 {
		font-size: 24px;
		color: #fff;
		padding-bottom: 20px;
		text-transform: uppercase;
	}
	.contents h3 {
		font-size: 16px;
		color: #acacac;
		padding-bottom: 2px;
		text-transform: uppercase;
	}
	.centered {
		text-align:center;
	}
	.registerarea {
		width: 500px;
		padding-bottom: 10px;
	}
	.registertext {
		width:110px;
		text-align:right;
		float:left;
		padding: 8px 14px;
		margin:5px 0px 5px 0;
	}
	.registerinput {
		 width:320px;
		 float:right;
	}
    </style>
</head>
<body>

    
    <div id="header" class="wrapper">
        <div id="navigation" class="section">
            <div id="search">
                <form method="post" action="http://away3d.com/tutorials/Special:Search_results">
                    <div><input type="hidden" name="XID" value="0d0a10e05141fbbb63792482ff6ecff4264a0ef3"></div>
                    <input type="text" class="tip-field specialInput" name="keywords" value="Search Wiki" maxlength="80">
                </form>
            </div>
			<div id="search2">
				<form method="post" action="http://away3d.com/tutorials/Special:Find_page">
					<div><input type="hidden" name="XID" value="7d94a1b87f44dd0a368fd581597a818f0fc10b6e"></div>
					<input type="text" class="tip-field specialInput" name="title" value="Find or Create Tutorial" maxlength="80">
				</form>
            </div>
            <div id="logo">
                <a ><img src="rick.jpg" alt="away3d logo"></a>
            </div>
            <div id="menu-wrapper">
				<ul id="menu">
					<li><a >HOME</a></li>
					<li><a >BLOG</a></li>
					<li><a >FEATURES</a></li>
					<li><a >DOWNLOAD</a></li>
					<li class="withsub"><a class="current" >DOCS &amp; REFERENCE</a>
						<ul class="submenu" style="display: none;">
							<li><a class="current" >TUTORIALS</a></li>
							<li><a >API REFERENCE</a></li>
							<li><a >BOOKS</a></li>
						</ul>
					</li>
					<li class="withsub"><a >COMMUNITY &amp; SUPPORT</a>
						<ul class="submenu" style="display: none;">
							<li><a >FORUM</a></li>
							<li><a >SHOWCASE</a></li>
							<li><a >PRO SUPPORT</a></li>
						</ul>
					</li>
					<li><a >TEAM</a></li>
					<li><a >DONATE</a></li>
					<li><a >PREFAB3D</a></li>
					<li><a >AWAY BUILDER</a></li>
				</ul>
            </div>
            <br class="clear">
        </div>
    </div>

    
    <div id="content" class="wrapper" style="position: absolute; width: 100%; z-index: 100; top: 188px;">

        
        <div id="wikinav">

	        
	        <div class="wikinavsection enablechromelinks">
                <ul>
                	<li><a >Tutorials Wiki Home</a></li>
                	<li><a  title="List of Titles">Tutorials</a></li>
	                <li><a  title="Category:Tutorials">Categories</a></li>
                	<li><a  title="Recent Changes Page">Recent Changes</a></li>
                </ul>
            </div>

	         
	        <div class="wikinavsection" style="padding-top: 113px;">
						            <ul>
						<li><a  rel="#login" class="loginbutton">Login</a></li>
						<li><a >Forgot your password?</a></li>
						<li><a  rel="#register" class="registerbutton">Register</a></li>
					</ul>
		            You're logged out...?
		        	        </div>
        </div>

        
        <div id="wikicontent">
            
            <div id="wikipagetitle">
                <h2>
                                                                                                                                    Writing Custom Materials 2: Adding Textures
                                                                <span id="wikieditbuttons">
                                                    
                                                                        </span>
                </h2>
            </div>
            
            <div id="wikipage">
                
                                                <div>
                                        <div class="tutorialMetadata"><a  title="Category:Advanced">Category:Advanced</a></div>
<article>
<aside>
<p><span class="requirement">User Level</span><br>
Advanced</p>

<p><span class="requirement">Prerequisite knowledge:</span><br>
Good ActionScript 3 programming experience with Flash Builder or similar integrated development environment (IDE) is recommended along with a basic understanding of Away3D, Stage3D and AGAL.</p>

<p><span class="requirement">Required tools</span><br>
Flash Builder or similar IDE.</p>

<p><span class="requirement">Sources</span><br>
<a  target="_blank">Complete sources</a></p>

<p><span class="requirement">Downloads</span><br>
<a  target="_blank">ZIP-file</a></p>
</aside>
<p>A tutorial introducing how to implement custom materials from scratch using textures.</p>

<h4>Contents</h4>
<nav><ul>
 <li><a >Introduction</a></li>
 <li><a >Setting the texture</a></li>
 <li><a >Providing the AGAL code</a></li>
 <li><a >Activating the pass</a></li>
 <li><a >Rendering</a></li>
 <li><a >Deactivating the pass</a></li>
 <li><a >NOT Deactivating the pass</a></li>
 <li><a >Conclusion</a></li>
</ul></nav>
<section id="intro"><h4>Introduction</h4>
<p>In the <a  target="_blank">previous tutorial</a>, we saw some of the important basics on building materials from scratch by building a flat coloured material. Basic indeed, and not very interesting. To improve on that, we’ll make a small step in the right direction by introducing textures, which in turn exposes a bit more of the material framework’s requirements.</p>
</section>

<p>&nbsp;</p><section id="texture"><h4>Setting the texture</h4>
<p>We can start out exactly the same as last time’s <code>TrivialColorMaterial</code> and <code>TrivialColorPass</code>, naming them <code>TrivialTextureMaterial</code> and <code>TrivialTexturePass</code>, respectively. We’ll highlight the differences necessary to use textures.</p>

<p>Instead of a colour value, we’ll be using a texture as the source for the surface colour. Away3D’s 2D textures are represented by <code>Texture2DBase</code> (and more concretely its subclasses, which can be <code>BitmapData</code> based, ATF-file based or completely custom), so we need a way to assign the texture to the pass. Simply provide a getter and setter:</p>

<div><div id="highlighter_726393" class="syntaxhighlighter  as3"><div class="toolbar"><span><a  class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 keyword">public</code> <code class="as3 color3">function</code> <code class="as3 keyword">get</code> <code class="as3 plain">texture() : Texture2DBase</code></div><div class="line number2 index1 alt1"><code class="as3 plain">{</code></div><div class="line number3 index2 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 keyword">return</code> <code class="as3 plain">_texture;</code></div><div class="line number4 index3 alt1"><code class="as3 plain">}</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="as3 keyword">public</code> <code class="as3 color3">function</code> <code class="as3 keyword">set</code> <code class="as3 plain">texture(value : Texture2DBase) : </code><code class="as3 keyword">void</code></div><div class="line number7 index6 alt2"><code class="as3 plain">{</code></div><div class="line number8 index7 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">_texture = value;</code></div><div class="line number9 index8 alt2"><code class="as3 plain">}</code></div></div></td></tr></tbody></table></div></div>

<p>No color getter/setter is needed this time, and since we don’t have any more constant data to send to the fragment shader, there’s no need to create a <code>Vector.&lt;Number&gt;</code> for that either.</p>

<p>&nbsp;</p>
</section>

<p>&nbsp;</p><section id="agal"><h4>Providing the AGAL code</h4>
<p>As far as the vertex shader is concerned, only one thing changes. Since we’ll need to map a texture on our objects, we need to provide some UV coordinates per vertex and pass them on to the fragment shader where the texture will be sampled.</p>

<p>We’re still using vertex attribute stream 0 for the position, so we’ll use stream 1 for the UV coordinates. We simply pass them on to varying register v0, so the fragment shader can access it, which simply needs to sample the texture we set at texture stream 0.</p>

<div><div id="highlighter_282959" class="syntaxhighlighter  as3"><div class="toolbar"><span><a  class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 comments"></code></div><div class="line number4 index3 alt1"><code class="as3 keyword">override</code> <code class="as3 plain">arcane </code><code class="as3 color3">function</code> <code class="as3 plain">getVertexCode() : </code><code class="as3 keyword">String</code></div><div class="line number5 index4 alt2"><code class="as3 plain">{</code></div><div class="line number6 index5 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 comments">// transform to view space and pass on uv coords to the fragment shader</code></div><div class="line number7 index6 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 keyword">return</code>&nbsp; <code class="as3 string">"m44 op, va0, vc0\n"</code> <code class="as3 plain">+</code></div><div class="line number8 index7 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 string">"mov v0, va1"</code><code class="as3 plain">;</code></div><div class="line number9 index8 alt2"><code class="as3 plain">}</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="as3 comments"></code></div><div class="line number15 index14 alt2"><code class="as3 keyword">override</code> <code class="as3 plain">arcane </code><code class="as3 color3">function</code> <code class="as3 plain">getFragmentCode(fragmentAnimatorCode : </code><code class="as3 keyword">String</code><code class="as3 plain">) : </code><code class="as3 keyword">String</code></div><div class="line number16 index15 alt1"><code class="as3 plain">{</code></div><div class="line number17 index16 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 comments">// simply set sampled colour from interpolated uv value as output value</code></div><div class="line number18 index17 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 keyword">return</code> <code class="as3 string">"tex oc, v0, fs0 &lt;2d, clamp, linear, miplinear&gt;"</code><code class="as3 plain">;</code></div><div class="line number19 index18 alt2"><code class="as3 plain">}</code></div></div></td></tr></tbody></table></div></div>
</section>

<p>&nbsp;</p><section id="activating"><h4>Activating the pass</h4>
<p>The only render state constant for the entire pass is the texture, which we already decided to place in stream 0. We’ll need to get the actual Stage3D <code>Texture</code> object from the <code>Texture2DBase</code>, which is done as follows:</p><div><div id="highlighter_749282" class="syntaxhighlighter  as3"><div class="toolbar"><span><a  class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 comments"></code></div><div class="line number6 index5 alt1"><code class="as3 keyword">override</code> <code class="as3 plain">arcane </code><code class="as3 color3">function</code> <code class="as3 plain">activate(stage3DProxy : Stage3DProxy, camera : Camera3D) : </code><code class="as3 keyword">void</code></div><div class="line number7 index6 alt2"><code class="as3 plain">{</code></div><div class="line number8 index7 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 keyword">super</code><code class="as3 plain">.activate(stage3DProxy, camera);</code></div><div class="line number9 index8 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">stage3DProxy._context3D.setProgramConstantsFromVector(Context3DProgramType.FRAGMENT, </code><code class="as3 value">0</code><code class="as3 plain">, _fragmentData, </code><code class="as3 value">1</code><code class="as3 plain">);</code></div><div class="line number10 index9 alt1"><code class="as3 plain">}</code></div></div></td></tr></tbody></table></div></div>
</section>

<p>&nbsp;</p><section id="rendering"><h4>Rendering</h4>
<p>The <code>render</code> method is practically the same as the <code>TrivialColorPass.render</code> method, with one obvious addition: assigning the UV coordinate stream to attribute stream 1 along with the position we already set at stream 0:</p>

<div><div id="highlighter_367602" class="syntaxhighlighter  as3"><div class="toolbar"><span><a  class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 plain">renderable.activateUVBuffer(</code><code class="as3 value">1</code><code class="as3 plain">, stage3DProxy);</code></div></div></td></tr></tbody></table></div></div>

<p>&nbsp;</p>
</section>

<p>&nbsp;</p><section id="deactivating"><h4>Deactivating the pass</h4>
<p>While last time we could just skip implementing this step, when using textures this is necessary. Stage3D won’t let us keep textures bound to texture stream slots if they’re not used by the fragment shader. This means that if we’d render an object with our current <code>TrivialTextureMethod</code> followed by a render of an object with <code>TrivialColorMethod</code>, the texture would still be bound in slot 0 resulting in an error. The same is the case for vertex attributes streams, so the UV coordinates assigned to stream 1 need to be unassigned.</p>

<div><div id="highlighter_232928" class="syntaxhighlighter  as3"><div class="toolbar"><span><a  class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 comments"></code></div><div class="line number5 index4 alt2"><code class="as3 keyword">override</code> <code class="as3 plain">arcane </code><code class="as3 color3">function</code> <code class="as3 plain">deactivate(stage3DProxy : Stage3DProxy) : </code><code class="as3 keyword">void</code></div><div class="line number6 index5 alt1"><code class="as3 plain">{</code></div><div class="line number7 index6 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 keyword">super</code><code class="as3 plain">.deactivate(stage3DProxy);</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 variable">var</code> <code class="as3 plain">context : Context3D = stage3DProxy._context3D;</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 comments">// clear the texture and stream we set before</code></div><div class="line number12 index11 alt1"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">context.setTextureAt(</code><code class="as3 value">0</code><code class="as3 plain">, </code><code class="as3 keyword">null</code><code class="as3 plain">);</code></div><div class="line number13 index12 alt2"><code class="as3 spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="as3 plain">context.setVertexBufferAt(</code><code class="as3 value">1</code><code class="as3 plain">, </code><code class="as3 keyword">null</code><code class="as3 plain">);</code></div><div class="line number14 index13 alt1"><code class="as3 plain">}</code></div></div></td></tr></tbody></table></div></div>

<p>“Hold on!”, I hear you say, “We’ve been using vertex stream 0 last time and didn’t need to disable that!” True enough, but since we’re always using the vertex position, we’ll always have something assigned to stream 0 anyway, so disabling it is unnecessary (and it made the previous example a bit simpler).</p>

<p>&nbsp;</p>
</section>

<p>&nbsp;</p><section id="notdeactivating"><h4>NOT deactivating the pass</h4>
<p>An alternative approach to clear the unused texture and vertex streams is to tell the material framework how many of them are used. In this case, we can simply set the correct values in the constructor:</p>

<div><div id="highlighter_601772" class="syntaxhighlighter  as3"><div class="toolbar"><span><a  class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="as3 plain">_numUsedStreams = </code><code class="as3 value">2</code><code class="as3 plain">; </code><code class="as3 comments">// vertex position and uv coords</code></div><div class="line number2 index1 alt1"><code class="as3 plain">_numUsedTextures = </code><code class="as3 value">1</code><code class="as3 plain">; </code><code class="as3 comments">// a single texture</code></div></div></td></tr></tbody></table></div></div>

<p>This will allow the material framework to disable streams automatically as needed, and you won’t have to overrride the <code>deactivate</code> method.</p>

<p>&nbsp;</p>
</section>

<p>&nbsp;</p><section id="conclusion"><h4>Conclusion</h4>
<p>The accompanying example code shows how the material can be used, in conjunction with the old <code>TrivialColorMaterial</code> in order to make sure the render state is cleared correctly.</p><figure>
<p>&nbsp;   <a  rel="shadowbox; width=800;height=600;"><img class="interactiveFigure" src="rick.jpg"></a><br></p><figcaption>
<p>&nbsp;  &nbsp;  &nbsp; Listing 1. TrivialTextureMaterial next to TrivialColorMaterial<br>
&nbsp;  &nbsp;  &nbsp; <a  target="_blank">Source code.</a><br></p>
</figcaption>
</figure>

<p>These first two tutorials already provided most of the info you need to start tinkering around with writing your own custom shaders. However, there’s still some upcoming tutorials to show how to access lights.</p>

<p>&nbsp;</p>
</section>

<p></p></article><p></p>
    <h3>Categories:</h3>
    <ul id="nav_categories">
	<li><a >Advanced</a></li>
</ul>

                </div>
                <br class="clear">
            </div>
        </div>
    </div>

    
    <div id="footer" class="wrapper" style="bottom: 0px; position: absolute; width: 100%; z-index: 0; top: 3454px;">
                    <div id="footer-section" class="section">
                <div id="am-logo">
                    <a ><img src="rick.jpg" alt="away studios logo"></a>
		    </div>
                <div id="footer-legal">
                    <p>
                        <a >HOME</a> |
                        <a >BLOG</a> |
                        <a >FEATURES</a> |
                        <a >DOWNLOAD</a> |
                        <a >DOCUMENTATION</a> |
                        <a >COMMUNITY &amp; SUPPORT</a> |
                        <a >TEAM</a> |
			<a >DONATE</a> | 
			<a >PREFAB3D</a> |
			<a >AWAY BUILDER</a>
                    </p>
					<p>
						Feeds: 
						<a >BLOG RSS</a>
					</p>
                    <p>
                        Away3D.com is © 2012 The Away3D Team. The Away3D engine is licensed under the <a >Apache&nbsp;License&nbsp;v2.0</a> and can be downloaded, modified and re-distributed per the terms of this license.
                    </p>
                </div>
                <br class="clear">
            </div>
 
 
    </div>

    
    <div class="overlay" id="login">
	    <div class="close" style="float:right; padding-right: 10px; padding-top:10px">
		    X
	    </div>
	    <div class="contents">
		    <h3 class="centered">Away3D Tutorials Wiki</h3>
		    <h1 class="centered">Member Login</h1>
		    <form method="post" action="http://away3d.com/">
<div class="hiddenFields">
<input type="hidden" name="XID" value="2b67906afe236e7fae9687c656aad680500b72d8">
<input type="hidden" name="ACT" value="13">
<input type="hidden" name="RET" value="http://away3d.com/tutorials/">
<input type="hidden" name="site_id" value="1">
</div>

			    <div class="registerarea">
				    <div class="registertext">Username</div>
				    <div class="form-field registerinput">
					    <input type="text" name="username" id="username" value="Username" class="input"></div>
				    <br class="clear">

				    <div class="registertext">Password</div>
				    <div class="form-field registerinput">
					    <input type="password" name="password" id="password" value="Password" class="input"></div>
				    <br class="clear">

				    <div style="float:right; margin: 5px 5px 0;">
					    <p><input type="checkbox" class="checkbox" name="auto_login" value="1" checked="checked"> Remember_me</p>
				    </div>
				    <br class="clear">

				    <div style="float:right; margin: 5px 5px 0;">
					    <input type="submit" class="button" value="Login">
				    </div>
				    <br class="clear">
			    </div>
			</form>
		    
	    </div>
    </div>

    
    <div class="overlay" id="register">
	    <div class="close" style="float:right; padding-right: 10px; padding-top:10px">
		    X
	    </div>
	    <div class="contents registercontent">
	    </div>
    </div>
    

	<div id="sb-container"><div id="sb-overlay"></div><div id="sb-wrapper"><div id="sb-title"><div id="sb-title-inner"></div></div><div id="sb-wrapper-inner"><div id="sb-body"><div id="sb-body-inner"></div><div id="sb-loading"><div id="sb-loading-inner"><span>loading</span></div></div></div></div><div id="sb-info"><div id="sb-info-inner"><div id="sb-counter"></div><div id="sb-nav"><a id="sb-nav-close" title="Close" onclick="Shadowbox.close()"></a><a id="sb-nav-next" title="Next" onclick="Shadowbox.next()"></a><a id="sb-nav-play" title="Play" onclick="Shadowbox.play()"></a><a id="sb-nav-pause" title="Pause" onclick="Shadowbox.pause()"></a><a id="sb-nav-previous" title="Previous" onclick="Shadowbox.previous()"></a></div></div></div></div></div></body></html>